---
description: 分析報告撰寫格式（可直接貼進 Obsidian / GitLab）
alwaysApply: true
---

# 報告產生規則（強制）

## 報告產生原則
- **只有用戶明確要求時才產生報告**
- **不要每次對話都自動產生報告**
- **一般對話只需提供結論、證據和下一步清單即可**

## 報告存放位置
- **所有報告必須保存到 `docs/` 資料夾**
- 報告文件名遵循命名規範（見下方）

## 何時產生報告
僅在以下情況產生完整報告：
1. **用戶明確要求**：用戶明確說「產生報告」、「寫報告」、「生成分析報告」等
2. **重要發現**：發現新的安全機制或重要功能（但需用戶確認是否需要報告）
3. **完成重要分析**：完成重要功能的分析（需用戶確認）

## 一般對話格式（不需要報告時）
使用以下簡短格式即可：

### 結論
- 用 1~3 句話講清楚「發生什麼事」與「最可能原因」

### 證據
- 列出關鍵 log / offset / 字串 / CFG 片段（必要時用表格）

### 影響面
- 這個機制會影響哪些行為（登入、綁定、完整性、反注入）

### 下一步（Checklist）
- [ ] A：最低成本觀測
- [ ] B：第二層驗證（交叉證據）
- [ ] C：必要時的替代策略（偏防禦/除錯）

---

# 報告撰寫格式（當需要產生報告時）

## 報告文件命名規範
- **分析報告**: `{TOPIC}_ANALYSIS.md` 或 `{TOPIC}_ANALYSIS_REPORT.md`
- **使用指南**: `{TOPIC}_USAGE_GUIDE.md` 或 `{TOPIC}_GUIDE.md`
- **完整分析**: `COMPLETE_{TOPIC}_ANALYSIS.md`
- **解決方案**: `{PROBLEM}_SOLUTION_GUIDE.md`

範例：
- `VTAPTA_AND_HEADER_USAGE_ANALYSIS.md`
- `DBS_Frida_Bypass_Usage_Guide.md`
- `VKEY_8004_SOLUTION_GUIDE.md`

## 報告結構模板

```markdown
# {主題} 分析報告

> **分析日期**: YYYY-MM-DD  
> **App 版本**: {從 config/VERSION_INFO.md 獲取}  
> **包名**: com.dbs.sg.dbsmbanking  
> **分析工具**: {工具列表}  
> **目的**: {分析目的}

---

## 執行摘要

{主要發現和結論的簡要說明}

---

## 1. 背景

{分析背景和目的}

---

## 2. 詳細分析

### 2.1 {子主題}

{詳細內容}

---

## 3. 結論

{總結和建議}

---

## 參考資料

{相關文檔和資源}
```

## 報告內容要求

### 必須包含的章節
1. **執行摘要**
   - 主要發現（3-5 個要點）
   - 結論概述

2. **背景**
   - 分析目的
   - 分析範圍
   - 使用的工具
   - App 版本信息

3. **詳細分析**
   - 代碼分析
   - 流程圖（如適用）
   - 關鍵發現

4. **結論**
   - 總結
   - 後續建議

### 代碼示例格式

```markdown
### 代碼位置

**類**: `com.example.ClassName`  
**方法**: `methodName()`  
**行號**: 123

```java
public void methodName() {
    // 代碼
}
```

**分析**: {代碼分析說明}
```

# 表格偏好
- 能用表格就用表格，欄位清楚：觀測點 / 條件 / 預期 / 實際 / 結論

